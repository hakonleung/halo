# PRD_003 测试计划

## 1. 测试范围

### 覆盖范围

| 类别 | 测试项 |
|------|--------|
| 视觉 | 组件样式、动画效果、响应式布局 |
| 性能 | 动画 FPS、字体加载 LCP |
| 兼容性 | 浏览器支持、降级方案 |
| 无障碍 | 对比度、reduced-motion |

### 不测试

- 第三方库内部逻辑 (Chakra UI)
- 组件业务逻辑（本次仅样式重构）

## 2. 视觉测试用例

### TC-V-001: Button Primary 样式

**前置条件**: 页面包含 `<Button variant="primary">`

| 步骤 | 预期结果 |
|------|----------|
| 查看按钮默认状态 | 渐变背景 (#00FF41→#00CC33)，深色文字 |
| 鼠标悬停 | 出现发光脉冲动画，box-shadow 增强 |
| 点击按钮 | 触发 glitch 抖动效果 (150ms) |
| 按钮禁用 | opacity: 0.5，无悬停效果 |

### TC-V-002: Button Secondary 样式

**前置条件**: 页面包含 `<Button variant="secondary">`

| 步骤 | 预期结果 |
|------|----------|
| 查看默认状态 | 透明背景，矩阵绿边框和文字，轻微发光 |
| 鼠标悬停 | 背景变为 rgba(0,255,65,0.1)，发光增强 |

### TC-V-003: Input 聚焦效果

**前置条件**: 页面包含 `<Input variant="outline">`

| 步骤 | 预期结果 |
|------|----------|
| 查看默认状态 | 深色背景，暗灰边框 |
| 点击聚焦 | 边框变矩阵绿，出现 glow-md 外发光 |
| 输入无效值 | 边框变红，出现红色发光 |
| 失去焦点 | 恢复默认状态 |

### TC-V-004: Card 毛玻璃效果

**前置条件**: 页面包含 `<Card>` 且背景有内容

| 步骤 | 预期结果 |
|------|----------|
| 查看卡片 | 可透过卡片看到模糊的背景内容 (blur 16px) |
| 鼠标悬停 | 边框亮度增加，发光效果增强 |
| 查看 decorated 变体 | 四角有 L 形装饰 |

### TC-V-005: Drawer 毛玻璃效果

**前置条件**: 触发 Drawer 打开

| 步骤 | 预期结果 |
|------|----------|
| 打开抽屉 | 抽屉从右侧滑入 (300ms) |
| 查看抽屉背景 | 毛玻璃效果，可见模糊背景内容 |
| 查看左边缘 | 有淡绿色发光效果 |
| 点击遮罩 | 抽屉关闭 (200ms) |

### TC-V-006: Select 下拉毛玻璃

**前置条件**: 页面包含 `<Select>`

| 步骤 | 预期结果 |
|------|----------|
| 点击触发器 | 下拉面板出现，带毛玻璃效果 |
| 悬停选项 | 选项背景变为 rgba(0,255,65,0.1) |
| 选中选项 | 背景加深，左边框出现矩阵绿线条 |

### TC-V-007: Badge 语义色

**前置条件**: 页面包含各 colorScheme 的 Badge

| colorScheme | 预期背景 | 预期边框/文字 |
|-------------|----------|---------------|
| success | 半透明绿 | #00FF41 |
| warning | 半透明黄 | #FFD700 |
| error | 半透明红 | #FF3366 |
| info | 半透明蓝 | #00D4FF |

### TC-V-008: BottomNav (Mobile)

**前置条件**: 视口宽度 < 640px

| 步骤 | 预期结果 |
|------|----------|
| 查看底部导航 | 固定在底部，毛玻璃背景 |
| 滚动页面 | 内容从导航下方透过模糊可见 |
| 查看当前项 | 图标和文字为矩阵绿，图标有发光效果 |
| 点击其他项 | 切换选中状态 |

### TC-V-009: 字体渲染

| 元素 | 预期字体 |
|------|----------|
| 页面标题 (h1/h2) | Orbitron |
| 正文段落 | Rajdhani |
| 代码/数据 | JetBrains Mono |

### TC-V-010: 动画效果

| 动画 | 触发条件 | 预期表现 |
|------|----------|----------|
| pulse-glow | Button hover | 2s 周期发光强度变化 |
| glitch | Button click | 150ms 像素抖动 |
| scan-line | Card scanline 变体 | 4s 周期垂直扫描线 |

## 3. 性能测试用例

### TC-P-001: 动画 FPS

**测试方法**: Chrome DevTools Performance 面板

| 场景 | 目标 |
|------|------|
| Button hover 动画 | FPS ≥ 55 |
| 多个 Card 同时 hover | FPS ≥ 55 |
| Drawer 打开/关闭 | FPS ≥ 55 |

### TC-P-002: 字体加载 LCP

**测试方法**: Lighthouse 或 Chrome DevTools

| 指标 | 目标 |
|------|------|
| 字体加载对 LCP 影响 | < 100ms |
| FOUT (无样式文字闪烁) | 最小化 |

### TC-P-003: CSS 包大小

**测试方法**: 构建分析

| 指标 | 目标 |
|------|------|
| 样式文件 gzip 增量 | < 20KB |

## 4. 兼容性测试用例

### TC-C-001: backdrop-filter 支持

| 浏览器 | 版本 | 预期结果 |
|--------|------|----------|
| Chrome | 76+ | 毛玻璃效果正常 |
| Safari | 9+ | 毛玻璃效果正常 |
| Firefox | 103+ | 毛玻璃效果正常 |
| 老版本 | - | 降级为半透明纯色 |

### TC-C-002: 响应式断点

| 视口宽度 | 预期布局 |
|----------|----------|
| 320px (Mobile) | BottomNav 可见，Drawer 全屏 |
| 768px (Tablet) | TopNav 可见，Drawer 侧边 |
| 1280px (Desktop) | TopNav 可见，多列网格 |

## 5. 无障碍测试用例

### TC-A-001: 颜色对比度

**测试方法**: axe-core 或 WAVE

| 元素 | 前景色 | 背景色 | 预期对比度 |
|------|--------|--------|-----------|
| 主文字 | #E0E0E0 | #0A0A0A | ≥ 4.5:1 (AA) |
| 次要文字 | #888888 | #0A0A0A | ≥ 4.5:1 (AA) |
| 矩阵绿文字 | #00FF41 | #0A0A0A | ≥ 4.5:1 (AA) |

### TC-A-002: Reduced Motion

**测试方法**: 系统设置开启 "减少动态效果"

| 步骤 | 预期结果 |
|------|----------|
| 开启 reduced-motion | 所有动画被禁用 |
| Button hover | 无脉冲动画，仅颜色变化 |
| Card hover | 无动画，仅样式变化 |

### TC-A-003: 键盘导航

| 步骤 | 预期结果 |
|------|----------|
| Tab 到按钮 | 可见焦点指示（发光边框） |
| Tab 到输入框 | 可见焦点指示 |
| Tab 到下拉 | 可操作，面板可键盘导航 |

## 6. 测试执行计划

### 阶段 06 执行

| 测试类型 | 执行方式 |
|----------|----------|
| 视觉测试 | 手动走查 + 截图对比 |
| 性能测试 | Lighthouse + DevTools |
| 兼容性测试 | 跨浏览器手动测试 |
| 无障碍测试 | axe-core 自动化 + 手动验证 |

### 验收标准

- 视觉测试: 10/10 用例通过
- 性能测试: 3/3 用例通过
- 兼容性测试: 所有目标浏览器通过
- 无障碍测试: 3/3 用例通过
