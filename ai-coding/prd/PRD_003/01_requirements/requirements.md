# PRD_003 需求文档：赛博朋克风格样式重构

## 1. 背景与痛点

### 背景

NEO-LOG 项目已有基础的赛博朋克配色方案和简单的组件样式，但整体视觉效果与设计规范存在差距：

- 现有组件样式扁平，缺乏层次感和深度
- 动画效果单一，未能体现赛博朋克的科技感
- 字体配置未生效，视觉风格不统一
- 弹出式组件缺乏现代感的毛玻璃效果

### 痛点

1. **视觉冲击力不足**: 当前样式过于朴素，无法传达"AI 原生"和"赛博朋克"的品牌调性
2. **层次感缺失**: 组件之间缺乏深度区分，用户难以感知交互层级
3. **动画单调**: 缺少标志性的赛博朋克动画效果（发光、故障、扫描线）
4. **字体不匹配**: 当前 monospace 字体无法体现科幻未来感

## 2. 用户定义

| 角色 | 描述 | 关注点 |
|------|------|--------|
| 普通用户 | 使用 NEO-LOG 追踪个人生活数据 | 界面美观、交互流畅、视觉舒适 |
| 开发者 | 基于 theme 和 recipe 开发新组件 | 样式一致性、可扩展性、文档清晰 |

## 3. 功能范围

### Must Have (必须实现)

1. **Theme 重构**
   - 更新字体配置：Orbitron (标题)、Rajdhani (正文)、SF Pro Display (系统回退)
   - 完善颜色 tokens（增加渐变、透明度变体）
   - 新增毛玻璃效果相关 tokens

2. **核心组件 Recipe 重构**
   - Button: 增加发光效果、hover 脉冲动画、多种 variant
   - Input: 聚焦发光、扫描线装饰
   - Select: 毛玻璃下拉、发光边框
   - Drawer: 毛玻璃背景、边缘发光

3. **新增组件 Recipe**
   - Card: 毛玻璃效果、边角装饰、hover 发光
   - Badge/Tag: 发光边框、半透明背景
   - BottomNav: 毛玻璃背景、图标发光
   - Popover/Menu: 毛玻璃下拉

4. **动画系统**
   - 发光脉冲 (pulse-glow): 呼吸灯效果
   - Glitch 故障: 像素抖动效果
   - 扫描线 (scan-line): 水平扫描动画

### Nice to Have (锦上添花)

1. **高级动画**
   - 矩阵雨背景效果
   - 打字机文字效果
   - CRT 显示器失真

2. **主题变体**
   - 不同强调色主题（蓝色/橙色/紫色）

### 不做

1. 亮色模式支持
2. 复杂的 3D 效果
3. 需要 Canvas/WebGL 的动画

## 4. 使用场景

### 场景 1: 用户浏览仪表盘

用户打开 Dashboard 页面，看到：
- 卡片组件带有毛玻璃效果和微妙的边缘发光
- 数据更新时卡片有脉冲发光反馈
- 整体界面有科幻 HUD 的层次感

### 场景 2: 用户与 Chatbot 交互

用户在 Chat 页面：
- 输入框聚焦时有矩阵绿发光边框
- 发送按钮 hover 时有脉冲效果
- AI 回复区域有扫描线装饰

### 场景 3: 用户打开侧边抽屉

用户点击设置图标：
- 抽屉以毛玻璃效果滑入（backdrop-blur: 16-20px）
- 背景内容透过模糊可见，增强层次感
- 抽屉边缘有淡淡的发光线条

### 场景 4: 移动端底部导航

用户在移动端浏览：
- 底部导航栏使用毛玻璃效果
- 当前选中项有发光指示
- 切换时有平滑的过渡动画

## 5. 边界条件

### 浏览器兼容性

- **backdrop-filter**: Safari 9+, Chrome 76+, Firefox 103+
- **不支持时降级**: 使用半透明纯色背景 `rgba(26, 26, 26, 0.95)`

### 性能约束

- 动画使用 `transform` 和 `opacity`，避免触发重排
- 复杂动画（如矩阵雨）仅在视口可见时运行
- 提供 `prefers-reduced-motion` 媒体查询支持

### 无障碍

- 确保对比度符合 WCAG AA 标准
- 发光效果不影响文字可读性
- 动画可通过系统设置禁用

## 6. 成功指标

| 指标 | 目标值 | 测量方式 |
|------|--------|----------|
| 组件 Recipe 覆盖率 | 100% 核心组件 | 代码审查 |
| 视觉一致性 | 与 UI 规范匹配度 ≥ 95% | 设计走查 |
| 性能影响 | FPS ≥ 55 (动画运行时) | Lighthouse |
| 字体加载 | LCP 影响 < 100ms | Web Vitals |
| 浏览器兼容 | 主流浏览器无视觉异常 | 跨浏览器测试 |

## 7. 约束与假设

### 约束

1. **技术栈**: 必须使用 Chakra UI v3 的 recipe 系统
2. **字体托管**: 使用 Google Fonts 或本地字体文件
3. **CSS 限制**: 仅使用 CSS 实现，不引入 JS 动画库

### 假设

1. 用户设备支持现代 CSS 特性（backdrop-filter, CSS Grid）
2. 字体文件可通过 CDN 或本地加载
3. 用户偏好深色模式（不考虑亮色模式切换）

## 附录：样式规格速查

### 毛玻璃效果

```css
backdrop-filter: blur(16px);
background: rgba(26, 26, 26, 0.8);
border: 1px solid rgba(0, 255, 65, 0.2);
```

### 发光效果

```css
/* 边框发光 */
box-shadow: 0 0 10px rgba(0, 255, 65, 0.3),
            0 0 20px rgba(0, 255, 65, 0.1);

/* 文字发光 */
text-shadow: 0 0 10px rgba(0, 255, 65, 0.5);
```

### 字体栈

```css
/* 标题 */
font-family: 'Orbitron', 'SF Pro Display', -apple-system, sans-serif;

/* 正文 */
font-family: 'Rajdhani', 'SF Pro Display', -apple-system, sans-serif;
```
