# 页面布局：/goals/[id]

## 路由
`/goals/[id]`

## 关联用户故事
- US-003: 查看目标详情
- US-004: 编辑目标
- US-005: 删除目标
- US-007: 更新目标状态
- US-008: 目标进度可视化

## 桌面端布局 (> 1024px)

```
┌─────────────────────────────────────────────────────────────────┐
│ TopNavbar (64px)                                                 │
├─────────────────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────────────────────┐ │
│ │ Container (max-width: 1400px, padding: 24px)                │ │
│ │                                                             │ │
│ │ ┌─────────────────────────────────────────────────────────┐ │ │
│ │ │ PageHeader (HStack, justify: space-between)             │ │ │
│ │ │   HStack: [← 返回] Heading: "目标详情"                   │ │ │
│ │ │   HStack: [编辑] [删除] [标记为完成]                     │ │ │
│ │ └─────────────────────────────────────────────────────────┘ │ │
│ │                                                             │ │
│ │ ┌─────────────────────────────────────────────────────────┐ │ │
│ │ │ GoalDetailCard (bg.carbon, border, padding: 24px)        │ │ │
│ │ │                                                         │ │ │
│ │ │ ┌─────────────────────────────────────────────────────┐ │ │ │
│ │ │ │ GoalInfo                                            │ │ │ │
│ │ │ │   Heading: 目标名称 (fontSize: 24px)                │ │ │ │
│ │ │ │   Text: 描述                                        │ │ │ │
│ │ │ │   HStack: [分类] [开始日期] [结束日期]              │ │ │ │
│ │ │ │   GoalStatusBadge: 状态                             │ │ │ │
│ │ │ └─────────────────────────────────────────────────────┘ │ │ │
│ │ │                                                         │ │ │
│ │ │ ┌─────────────────────────────────────────────────────┐ │ │ │
│ │ │ │ GoalProgress                                        │ │ │ │
│ │ │ │   HStack:                                           │ │ │ │
│ │ │ │     GoalProgressRing (size: lg)                     │ │ │ │
│ │ │ │     VStack:                                        │ │ │ │
│ │ │ │       Text: "当前: 75 / 目标: 100"                  │ │ │ │
│ │ │ │       Text: "进度: 75%"                             │ │ │ │
│ │ │ │       Text: "剩余: 30天"                             │ │ │ │
│ │ │ └─────────────────────────────────────────────────────┘ │ │ │
│ │ │                                                         │ │ │
│ │ │ ┌─────────────────────────────────────────────────────┐ │ │ │
│ │ │ │ GoalProgressChart (height: 200px)                   │ │ │ │
│ │ │ └─────────────────────────────────────────────────────┘ │ │ │
│ │ │                                                         │ │ │
│ │ │ ┌─────────────────────────────────────────────────────┐ │ │ │
│ │ │ │ GoalCriteria                                       │ │ │ │
│ │ │ │   Heading: "达成条件"                               │ │ │ │
│ │ │ │   VStack:                                          │ │ │ │
│ │ │ │     CriteriaItem (×N)                               │ │ │ │
│ │ │ └─────────────────────────────────────────────────────┘ │ │ │
│ │ │                                                         │ │ │
│ │ │ ┌─────────────────────────────────────────────────────┐ │ │ │
│ │ │ │ RelatedRecords                                      │ │ │ │
│ │ │ │   Heading: "关联行为记录"                            │ │ │ │
│ │ │ │   VStack:                                          │ │ │ │
│ │ │ │     RecordItem (×N)                                 │ │ │ │
│ │ │ └─────────────────────────────────────────────────────┘ │ │ │
│ │ └─────────────────────────────────────────────────────────┘ │ │
│ └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 移动端布局 (< 640px)

```
┌─────────────────────────┐
│ TopNavbar (56px)        │
├─────────────────────────┤
│ Container (padding: 16px)│
│                         │
│ ┌─────────────────────┐ │
│ │ PageHeader          │ │
│ │   [←] 目标详情       │ │
│ │   [编辑] [删除]      │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ GoalDetailCard      │ │
│ │   VStack (gap: 16px)│ │
│ │     GoalInfo        │ │
│ │     GoalProgress    │ │
│ │     GoalProgressChart│ │
│ │     GoalCriteria    │ │
│ │     RelatedRecords  │ │
│ └─────────────────────┘ │
└─────────────────────────┘
```

## 组件树

```
/goals/[id] Page
├── AuthenticatedLayout
│   └── TopNavbar
└── Container
    ├── PageHeader
    │   ├── Button ("← 返回")
    │   ├── Heading ("目标详情")
    │   └── HStack
    │       ├── Button ("编辑")
    │       ├── Button ("删除")
    │       └── Button ("标记为完成")
    └── GoalDetailCard
        ├── GoalInfo
        ├── GoalProgress
        ├── GoalProgressChart
        ├── GoalCriteria
        └── RelatedRecords
```

## 状态处理

### 加载状态
- 显示 Skeleton 组件

### 编辑模式
- 显示 GoalForm 组件（侧边栏或模态框）
- 预填充现有数据

### 删除确认
- 显示确认对话框

### 错误状态
- 显示错误提示

