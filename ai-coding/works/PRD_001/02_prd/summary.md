# 阶段 02 摘要 - PRD

> PRD_001 | 可视化模块

## 核心结论

共定义 **10 个用户故事**，覆盖概览卡片、趋势图、热力图、目标进度等核心功能。采用 P0/P1/P2 三级优先级，P0 共 7 个必须实现。

## 关键产出

### 用户故事清单

| ID | 功能 | 优先级 | 验收标准数 |
|----|------|--------|-----------|
| US-001 | 今日概览 | P0 | 3 |
| US-002 | 连续天数 | P0 | 3 |
| US-003 | 目标达成率 | P0 | 3 |
| US-004 | 行为趋势图 | P0 | 3 |
| US-005 | 时间范围选择 | P0 | 3 |
| US-006 | 活跃热力图 | P0 | 4 |
| US-007 | 目标进度环 | P0 | 4 |
| US-008 | 周对比分析 | P1 | 3 |
| US-009 | 分类饼图 | P1 | 3 |
| US-010 | 数据导出 | P2 | 3 |

### API 端点规划

| 端点 | 用途 |
|------|------|
| GET /api/dashboard/stats | 概览统计 |
| GET /api/dashboard/trends | 趋势数据 |
| GET /api/dashboard/heatmap | 热力图数据 |
| GET /api/goals | 目标进度 |

### 组件清单

| 组件 | 类型 |
|------|------|
| TimeRangeSelector | 控件 |
| StatsCardGroup | 容器 |
| TrendChart | 图表 |
| CalendarHeatmap | 图表 |
| GoalProgressRing | 图表 |
| CategoryPieChart | 图表 (P1) |

## 供后续阶段使用

### 03-UI设计 需要
- 组件清单和层级结构
- 交互规格 (Hover/Click)
- 响应式布局要求

### 04-技术设计 需要
- API 端点列表
- 数据源依赖
- 性能指标

### 05a-前置 需要
- 数据结构定义
- API 请求/响应类型

## 注意事项

1. **图表库选型** - 需在04阶段确定 (Recharts/Nivo/ECharts)
2. **热力图年份** - 是否支持切换年份待定
3. **空状态** - 每个组件需处理无数据情况

## 关键词索引

| 关键词 | 位置 |
|--------|------|
| US-001~010 | prd.md#2 |
| AC-XXX-X | prd.md#2 (各US下) |
| 概览卡片 | prd.md#3.1, flow.md#组件树 |
| API端点 | flow.md#数据流 |
| 交互流程 | flow.md#用户交互流 |
